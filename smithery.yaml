name: ppt-translator
version: "0.1.0"
description: "PowerPoint Translator using Amazon Bedrock - Translate PowerPoint presentations while preserving formatting"
author: "daekeun-ml"
license: "MIT"

# Container configuration
container:
  image: "ppt-translator:latest"
  build:
    context: "."
    dockerfile: "Dockerfile"
  
  # Environment variables that can be configured
  environment:
    - name: DEFAULT_TARGET_LANGUAGE
      description: "Default target language for translation"
      default: "ko"
      required: false
    - name: BEDROCK_MODEL_ID
      description: "Amazon Bedrock model ID for translation"
      default: "us.anthropic.claude-3-7-sonnet-20250219-v1:0"
      required: false
    - name: MAX_TOKENS
      description: "Maximum tokens for translation requests"
      default: "4000"
      required: false
    - name: TEMPERATURE
      description: "Temperature setting for AI model"
      default: "0.1"
      required: false
    - name: ENABLE_POLISHING
      description: "Enable translation polishing"
      default: "true"
      required: false
    - name: DEBUG
      description: "Enable debug logging"
      default: "false"
      required: false

# MCP server configuration
mcp:
  transport: "stdio"
  command: ["uv", "run", "python", "fastmcp_server.py"]
  
  # Available tools
  tools:
    - name: translate_powerpoint
      description: "Translate an entire PowerPoint presentation"
      parameters:
        - name: input_file
          type: string
          description: "Path to the input PowerPoint file (.pptx)"
          required: true
        - name: target_language
          type: string
          description: "Target language code (e.g., 'ko', 'ja', 'zh')"
          default: "ko"
        - name: output_file
          type: string
          description: "Path for the translated output file (optional)"
          required: false
        - name: model_id
          type: string
          description: "Amazon Bedrock model ID"
          required: false
        - name: enable_polishing
          type: boolean
          description: "Enable natural language polishing"
          default: true
    
    - name: translate_specific_slides
      description: "Translate only specific slides in a PowerPoint presentation"
      parameters:
        - name: input_file
          type: string
          description: "Path to the input PowerPoint file (.pptx)"
          required: true
        - name: slide_numbers
          type: string
          description: "Comma-separated slide numbers (e.g., '1,3,5' or '2-4,7')"
          required: true
        - name: target_language
          type: string
          description: "Target language code"
          default: "ko"
        - name: output_file
          type: string
          description: "Path for the translated output file (optional)"
          required: false
    
    - name: get_slide_info
      description: "Get information about slides in a PowerPoint presentation"
      parameters:
        - name: input_file
          type: string
          description: "Path to the PowerPoint file (.pptx)"
          required: true
    
    - name: get_slide_preview
      description: "Get detailed preview of a specific slide's content"
      parameters:
        - name: input_file
          type: string
          description: "Path to the PowerPoint file (.pptx)"
          required: true
        - name: slide_number
          type: integer
          description: "Slide number to preview (1-based indexing)"
          required: true
    
    - name: list_supported_languages
      description: "List all supported target languages for translation"
    
    - name: list_supported_models
      description: "List all supported Amazon Bedrock models"
    
    - name: get_translation_help
      description: "Get help information about using the translator"

# Supported languages
supported_languages:
  - code: "en"
    name: "English"
  - code: "ko"
    name: "Korean"
  - code: "ja"
    name: "Japanese"
  - code: "zh"
    name: "Chinese (Simplified)"
  - code: "zh-tw"
    name: "Chinese (Traditional)"
  - code: "es"
    name: "Spanish"
  - code: "fr"
    name: "French"
  - code: "de"
    name: "German"
  - code: "it"
    name: "Italian"
  - code: "pt"
    name: "Portuguese"
  - code: "ru"
    name: "Russian"
  - code: "ar"
    name: "Arabic"
  - code: "hi"
    name: "Hindi"

# Tags for discovery
tags:
  - "translation"
  - "powerpoint"
  - "presentation"
  - "amazon-bedrock"
  - "aws"
  - "office"
  - "document-processing"

# Repository information
repository:
  url: "https://github.com/daekeun-ml/ppt-translator"
  branch: "main"

# Health check
health_check:
  command: ["python", "-c", "import fastmcp_server; print('OK')"]
  interval: 30
  timeout: 10
  retries: 3
